{% comment %}
  Main 404 Section - Elle Theme
  Displays 404 error page with search and navigation
{% endcomment %}

<section class="main-404 section {% render 'color-scheme', scheme: section.settings.color_scheme %}">
  {% render 'page-header', title: section.settings.heading %}

  <div class="container">
    <div class="main-404__content text-center">
      <span class="main-404__code">404</span>
      <p class="main-404__text">{{ 'general.404.subtext' | t }}</p>

      {%- if section.settings.show_search -%}
        <div class="main-404__search">
          <form action="{{ routes.search_url }}" method="get" role="search" class="search-form">
            <label for="Search-404" class="visually-hidden">{{ 'search.placeholder' | t }}</label>
            <input
              type="search"
              id="Search-404"
              name="q"
              class="search-form__input form-input"
              placeholder="{{ 'search.placeholder' | t }}"
            >
            <input type="hidden" name="type" value="product,article,page">
            <button type="submit" class="btn btn--filled">
              {{ 'search.search' | t }}
            </button>
          </form>
        </div>
      {%- endif -%}

      <a href="{{ routes.root_url }}" class="btn btn--outline main-404__home-btn">
        {{ 'general.404.back_home' | t }}
      </a>
    </div>
  </div>
</section>

{% stylesheet %}
  /* Remove top padding - page header provides spacing */
  .main-404.section {
    padding-top: 0;
  }

  .main-404__content {
    max-width: 560px;
    margin: 0 auto;
  }

  .main-404__code {
    display: block;
    font-size: clamp(4rem, 15vw, 8rem);
    font-weight: var(--font-weight-bold);
    line-height: 1;
    margin-bottom: var(--space-4);
    opacity: 0.1;
  }

  .main-404__text {
    color: var(--color-muted);
    margin-bottom: var(--space-8);
  }

  .main-404__search {
    margin-bottom: var(--space-6);
  }

  .main-404__search .search-form {
    display: flex;
    gap: var(--space-3);
  }

  .main-404__search .search-form__input {
    flex: 1;
  }

  .main-404__home-btn {
    margin-top: var(--space-2);
  }

  @media (max-width: 480px) {
    .main-404__search .search-form {
      flex-direction: column;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.main_404.name",
  "tag": "section",
  "class": "section-main-404",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "t:labels.heading",
      "default": "Page not found"
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "label": "t:sections.main_404.settings.show_search.label",
      "default": true
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:labels.color_scheme",
      "default": "scheme_1"
    }
  ]
}
{% endschema %}
